<?xml version="1.0"?>
<!DOCTYPE rfc SYSTEM "rfc2629.dtd">
<?rfc toc="yes"?>
<?rfc tocdepth="2"?>
<?rfc symrefs="yes"?>
<?rfc compact="yes"?>
<?rfc strict="yes"?>
<rfc ipr="full3978" docName="draft-saintandre-jabberid-04">

  <front>
    <title abbrev='Jabber-ID'>The Jabber-ID Header Field</title>
    <author initials="P." surname="Saint-Andre" fullname="Peter Saint-Andre">
      <organization abbrev="JSF">Jabber Software Foundation</organization>
      <address>
        <email>stpeter@jabber.org</email>
        <uri>xmpp:stpeter@jabber.org</uri>
      </address>
    </author>
    <date year="2006" month="September" day="25"/>
    <area>Applications</area>
    <keyword>Extensible Messaging and Presence Protocol</keyword>
    <keyword>XMPP</keyword>
    <keyword>Electronic Mail</keyword>
    <keyword>Email</keyword>
    <abstract>
      <t>This document defines a header field that enables a sender to include a Jabber Identifier in the header block of an email message for the purpose of associating the email message or sender with a particular Extensible Messaging and Presence Protocol (XMPP) address.</t>
    </abstract>
  </front>

  <middle>

    <section title="Introduction" anchor="intro">
      <t>The Extensible Messaging and Presence Protocol (XMPP), documented in <xref target='RFC3920'/>, is a streaming XML technology that enables any two entities on a network to exchange well-defined but extensible XML elements (called "XML stanzas") in close to real time.  Given XMPP's heritage in the Jabber open-source community, one of the primary uses for XMPP is instant messaging and presence as documented in <xref target='RFC3921'/>, and XMPP addresses are still referred to as Jabber Identifiers or Jabber IDs.</t>
      <t>Because almost all users of Jabber instant messaging and presence systems are users of email systems, it can be helpful for such users to specify their Jabber Identifiers in the email messages they send.  The Jabber-ID header defined in this document provides a standard location for that information.</t>
    </section>

    <section title="Jabber-ID Syntax" anchor="syntax">
      <t>The syntax of the Jabber-ID header is defined below using Augmented Backus-Naur Form (as specified by <xref target="RFC4234"/>), where the "pathxmpp" rule is defined in <xref target='RFC4622'/> and the remaining rules are defined in <xref target='RFC2822'/>:</t>
      <figure>
        <artwork><![CDATA[
"Jabber-ID:" [FWS] pathxmpp (*WSP / obs-FWS) CRLF
        ]]></artwork>
      </figure>
      <t>Note: Although a native XMPP address may contain virtually any <xref target='UNICODE'/> character, an electronic mail header may contain only printable <xref target='US-ASCII'/> characters (see Section 2 of <xref target='RFC2822'/>). Therefore, any non-US-ASCII characters in an XMPP address must be converted to US-ASCII before inclusion in a Jabber-ID header, in accordance with the rules specified in <xref target='RFC4622'/>.</t>
    </section>

    <section title="Examples" anchor="examples">
      <t>For a user whose XMPP address is "juliet@example.com", the corresponding Jabber-ID header would be:</t>
      <figure>
        <artwork><![CDATA[
Jabber-ID: juliet@example.com
        ]]></artwork>
      </figure>
      <t>As noted, non-US-ASCII characters in XMPP addresses must be converted into US-ASCII before inclusion in a Jabber-ID header.  Consider the following XMPP address:</t>
      <figure>
        <artwork><![CDATA[
ji&#x159;i@&#x10D;echy.example
        ]]></artwork>
      </figure>
      <t>Note: The string "&amp;#x159;" stands for the Unicode character LATIN SMALL LETTER R WITH CARON and the string "&amp;#x10D;" stands for the Unicode character LATIN SMALL LETTER C WITH CARON, following the "XML Notation" used in <xref target="RFC3987"/> to represent characters that cannot be rendered in ASCII-only documents (note also that these characters are represented in their stringprep canonical form; see <xref target='RFC3454'/>).  For those who do not read Czech, this example could be Anglicized as "george@czech-lands.example".</t>
      <t>Following the rules in <xref target='RFC4622'/> and the Jabber-ID header syntax, the resulting header would be:</t>
      <figure>
        <artwork><![CDATA[
Jabber-ID: ji%C5%99i@%C4%8Dechy.example
        ]]></artwork>
      </figure>
    </section>

    <section title='IANA Considerations' anchor="iana">
      <t>In accordance with <xref target="RFC3864"/>, the IANA registers the "Jabber-ID" header field in the Permanent Message Header Field Registry.  The registration template is as follows:</t>
      <t><list style='hanging'>
        <t hangText='Header field name:'>Jabber-ID</t>
        <t hangText='Applicable protocol:'>mail</t>
        <t hangText='Status:'>standard</t>
        <t hangText='Author/Change controller:'>IETF</t>
        <t hangText='Specification document(s):'>&rfc.number;</t>
        <t hangText='Related information:'>For details regarding the native usage and format of Jabber Identifiers, see Extensible Messaging and Presence Protocol (RFC 3920).</t>
      </list></t>
    </section>

    <section title='Security Considerations' anchor="sec">
      <t>Message headers are an existing standard and are designed to easily accommodate new types.  Although the Jabber-ID header may be forged, this problem is inherent in Internet email; however, because a forged Jabber-ID header may break automated processing, applications should not depend on the Jabber-ID header to indicate the authenticity of an email message or the identity of its sender.</t>
      <t>Advertising XMPP addresses in email headers may make it easier for malicious users to harvest XMPP addresses and therefore to send unsolicited bulk communications to the users or applications represented by those addresses.  Care should be taken in balancing the benefits of open information exchange against the potential costs of unwanted communications.  An email user agent that is capable of including the Jabber-ID header field in outgoing email messages should provide an option for its user to disable inclusion of the Jabber-ID header field generally, on a per-recipient basis, or on a per-message basis.</t>
    </section>

  </middle>

  <back>

    <references title="Normative References">

<reference anchor='RFC2822'>
<front>
<title>Internet Message Format</title>
<author initials='P.' surname='Resnick' fullname='P. Resnick'>
<organization /></author>
<date year='2001' month='April' /></front>
<seriesInfo name='RFC' value='2822' />
<format type='TXT' octets='110695' target='ftp://ftp.isi.edu/in-notes/rfc2822.txt' />
</reference>

<reference anchor='RFC4234'>
<front>
<title>Augmented BNF for Syntax Specifications: ABNF</title>
<author initials='D.' surname='Crocker' fullname='D. Crocker'>
<organization /></author>
<author initials='P.' surname='Overell' fullname='P. Overell'>
<organization /></author>
<date year='2005' month='October' /></front>
<seriesInfo name='RFC' value='4234' />
<format type='TXT' octets='26351' target='ftp://ftp.isi.edu/in-notes/rfc4234.txt' />
</reference>

<reference anchor="RFC4622">
<front>
<title>Internationalized Resource Identifiers (IRIs) and Uniform Resource  Identifiers (URIs) for the Extensible Messaging and Presence Protocol (XMPP)</title>
<author initials='P' surname='Saint-Andre' fullname='Peter Saint-Andre'>
    <organization />
</author>
<date year='2006' month='July' /></front>
<seriesInfo name='RFC' value='4622' />
<format type='TXT' octets='49968' target='ftp://ftp.isi.edu/in-notes/rfc4622.txt' />
</reference>

    </references>

    <references title="Informative References">

<reference anchor="RFC3454">
<front>
<title>Preparation of Internationalized Strings ("stringprep")</title>
<author initials='P.' surname='Hoffman' fullname='P.  Hoffman'>
<organization /></author>
<author initials='M.' surname='Blanchet' fullname='M.  Blanchet'>
<organization /></author>
<date month='December' year='2002' /></front>
<seriesInfo name='RFC' value='3454' />
<format type='TXT' octets='138684' target='ftp://ftp.isi.edu/in-notes/rfc3454.txt' />
</reference>

<reference anchor='RFC3864'>
<front>
<title>Registration Procedures for Message Header Fields</title>
<author initials='G.' surname='Klyne' fullname='G. Klyne'>
<organization /></author>
<author initials='M.' surname='Nottingham' fullname='M. Nottingham'>
<organization /></author>
<author initials='J.' surname='Mogul' fullname='J. Mogul'>
<organization /></author>
<date year='2004' month='September' />
<abstract>
<t>&lt;p>This specification defines registration procedures for the message header fields used by Internet mail, HTTP, Netnews and other applications. This document specifies an Internet Best Current Practices for the Internet Community, and requests discussion and suggestions for improvements. &lt;/p></t></abstract></front>
<seriesInfo name='BCP' value='90' />
<seriesInfo name='RFC' value='3864' />
<format type='TXT' octets='36231' target='ftp://ftp.isi.edu/in-notes/rfc3864.txt' />
</reference>

<reference anchor="RFC3920">
  <front>
    <title>Extensible Messaging and Presence Protocol (XMPP): Core</title>
    <author initials='P.' surname='Saint-Andre' fullname='P.  Saint-Andre'>
      <organization>Jabber Software Foundation</organization>
    </author>
    <date year='2004' month='October' />
  </front>
  <seriesInfo name='RFC' value='3920' />
  <format type='TXT' octets='194313' target='ftp://ftp.isi.edu/in-notes/rfc3920.txt' />
</reference>

<reference anchor="RFC3921">
  <front>
    <title>Extensible Messaging and Presence Protocol (XMPP): Instant Messaging and Presence</title>
    <author initials='P.' surname='Saint-Andre' fullname='P.  Saint-Andre'>
      <organization>Jabber Software Foundation</organization>
    </author>
    <date year='2004' month='October' />
  </front>
  <seriesInfo name='RFC' value='3921' />
  <format type='TXT' octets='217527' target='ftp://ftp.isi.edu/in-notes/rfc3921.txt' />
</reference>

<reference anchor="RFC3987">
<front>
<title>Internationalized Resource Identifiers (IRIs)</title>
<author initials='M.' surname='Duerst' fullname='M. Duerst'>
<organization /></author>
<author initials='M.' surname='Suignard' fullname='M. Suignard'>
<organization /></author>
<date year='2005' month='January' /></front>
<seriesInfo name='RFC' value='3987' />
<format type='TXT' octets='111190' target='ftp://ftp.isi.edu/in-notes/rfc3987.txt' />
</reference>

<reference anchor="UNICODE">
  <front>
    <title>The Unicode Standard, Version 3.2.0</title>
    <author>
      <organization>The Unicode Consortium</organization>
    </author>
    <date year="2000" />
  </front>
  <annotation>
    The Unicode Standard, Version 3.2.0 is defined by The Unicode Standard, Version 3.0 (Reading, MA, Addison-Wesley, 2000. ISBN 0-201-61633-5), as amended by the Unicode Standard Annex #27: Unicode 3.1 (http://www.unicode.org/reports/tr27/) and by the Unicode Standard Annex #28: Unicode 3.2 (http://www.unicode.org/reports/tr28/).
  </annotation>
</reference>

<reference anchor="US-ASCII">
<front>
<title>Coded Character Set - 7-bit American Standard Code for Information Interchange</title>
<author>
<organization>American National Standards Institute</organization>
</author>
<date month="" year="1986" />
</front>
<seriesInfo name="ANSI" value="X3.4" />
</reference>

    </references>

  </back>

</rfc>
